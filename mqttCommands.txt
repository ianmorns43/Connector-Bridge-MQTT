Topics
publishes:
dooya_connector_hub/lwt                         <"online"|"offline">
dooya_connector_hub/status/hub                  {deviceCount:<deviceCount>, mac:"<hubMac>", [rssi:<hub rssi>]}
dooya_connector_hub/status/<deviceMac>          {updateType:"<commandReceived|moveComplete|updateRequested>", 
                                                 bidirectional:<is biderectional (bool)>,
                                                 targetPosition¹:<position (%)>
                                                 position²:<position (%)>, 
                                                 shadeType²:"<Roller Blinds|Roman Blinds etc...>", 
                                                 battery²:<battery voltage (V)>, 
                                                 rssi²:<rssi>}


² for bi-directional blinds only

Subscribes to:
dooya_connector_hub/command                     {command:"updateDeviceList"}
                                                {command:"moveShade", mac:"<deviceMac>", key:"<hub-secret-key>", position:<newPosition>}
                                                {command:"openShade", mac:"<deviceMac>", key:"<hub-secret-key>"}
                                                {command:"closeShade", mac:"<deviceMac>", key:"<hub-secret-key>"}
                                                {command:"stopShade", mac:"<deviceMac>", key:"<hub-secret-key>"}
                                                {command:"updateDevce", mac:"<deviceMac>"}

commands:
heartbeat
    The hub occasionally (~every 60s) multicasts a heartbeat message. The bridge publises this as a hub status message

updateDeviceList
    Bridge will publish:
        a hub status update message (excluding the hub wifi RSSI info)
        followed by a device status update message of type "updateRequested" for each device
    
moveShade
openShade
closeShade
stopShade
    Bridge will send the appropriate movement message to the hub

    for bi-directional blinds only
    Bridge will publish a device status update message of type "commandReceived" when shade acknowledges command
    Bridge will publish a device staus update message of type "moveComplete" when shade completes its move 
    
updateDevce
    Bridge will publish a status update message of type "updateRequested"
